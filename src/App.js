/*global chrome*/

import React, { Component } from 'react';

import GrpcWebStreamParser from './GrpcWebStreamParser'

import * as jspb from 'google-protobuf'
import './App.css';

import { decodeStringToUint8Array } from './base64'

class App extends Component {

  state = {
    requests: [],
  }

  componentDidMount() {
    if (window.chrome && window.chrome.devtools) {
      chrome.devtools.network.onRequestFinished.addListener(rtn => {
        if (rtn.request.postData.mimeType === "application/grpc-web-text") {
          const { requests } = this.state;
          requests.push(rtn.request.url);
          this.setState({ requests });
        }
      });
    }

    const responseText = `AAAAICoKvAQKJDRlYTE2MTcxLWI1ODEtNDRjOS04NmNiLWNiMTU1NGY5ODJhYRIHQW1iaWVudBokZTA3YjZhYzAtOGEwNS0xMWUyLTk5NTEtZGRkMTE4MmY2NWQ5IgsIkOrE4gUQsLaKZCoGNDI3NTgzMkkKJDJmOTBmNWE3LTEzNTktNDlmMC1hOTJhLWQ2ZjRhYTlhYmRlMhIEc2l0ZRobTGV2ZWwgNCAtIE5hdGhhbiBpcyB0ZXN0aW5nOhBBdXN0cmFsaWEvU3lkbmV5QokBCiRlNjhiNGE0NC0yMjUwLTQ3M2EtOTE1ZS1hNzE3YTc5M2MwMWMSJDRlYTE2MTcxLWI1ODEtNDRjOS04NmNiLWNiMTU1NGY5ODJhYRodbmF0aGFuLmFkbGVyQHNhZmV0eWN1bHR1cmUuaW8qDAjw/MTiBRCQw4XCATABOAFFAACwQUgBUgMIiA5KQgokZTY4YjRhNDQtMjI1MC00NzNhLTkxNWUtYTcxN2E3OTNjMDFjEAQdAAC0QSILCJOPneUFEKjKqw0qBgiiyJzlBVI1CAMSJDRlYTE2MTcxLWI1ODEtNDRjOS04NmNiLWNiMTU1NGY5ODJhYR0AAMhCIgYIzPK25QVSNQgEEiQ0ZWExNjE3MS1iNTgxLTQ0YzktODZjYi1jYjE1NTRmOTgyYWEdAACsQiIGCMzytuUFUjUIARIkNGVhMTYxNzEtYjU4MS00NGM5LTg2Y2ItY2IxNTU0Zjk4MmFhHc3MuEEiBgjM8rblBQq0BgokNzhjZDljYzQtOWNmMy00NzdhLWE2ODUtYmViZGU1ODFlOTNhEgY0NDk3NTgaJGUwN2I2YWMwLThhMDUtMTFlMi05OTUxLWRkZDExODJmNjVkOSILCLya4+IFEOiFt10qBjQ0OTc1ODJICiQ5NDVhYjg3NS0zMTRjLTQ5NGQtOWUyNC01MzE4OGZmZDMwOGESBHNpdGUaGjYzIEZvdmVhdXggU3QsIFN1cnJ5IEhpbGxzOhBBdXN0cmFsaWEvU3lkbmV5QqQBCiQwZTYzZGNlOS0zMGM3LTRlOWEtOWE0Zi1mOWZlMmMyOWVhODUSJDc4Y2Q5Y2M0LTljZjMtNDc3YS1hNjg1LWJlYmRlNTgxZTkzYRoaYW1vcy5jaGVuQHNhZmV0eWN1bHR1cmUuaW8aHEplZC5wcmltZXJvQHNhZmV0eWN1bHR1cmUuaW8qDAjv6ujiBRCg3e6GAjABOAFFAAAMQkgBUgMIiA5CYgokNjAzNTljMGQtMWZmMi00MjRkLTkxZjgtN2I0OTNmYjdjMGZhEiQ3OGNkOWNjNC05Y2YzLTQ3N2EtYTY4NS1iZWJkZTU4MWU5M2EqCwitsuniBRDAr/x/MAI4AlIDCJAcSkIKJDBlNjNkY2U5LTMwYzctNGU5YS05YTRmLWY5ZmUyYzI5ZWE4NRABHWZmrEEiCwjLxeniBRDgpa5mKgYI3Kjp4gVKQgokNjAzNTljMGQtMWZmMi00MjRkLTkxZjgtN2I0OTNmYjdjMGZhEAEdzcy+QSILCPfW6eIFENC3i2cqBgjsxOniBVI1CAMSJDc4Y2Q5Y2M0LTljZjMtNDc3YS1hNjg1LWJlYmRlNTgxZTkzYR0AAMhCIgYI0sGc4wVSNQgCEiQ3OGNkOWNjNC05Y2YzLTQ3N2EtYTY4NS1iZWJkZTU4MWU5M2EdZmaSQSIGCNLBnOMFUjUIBBIkNzhjZDljYzQtOWNmMy00NzdhLWE2ODUtYmViZGU1ODFlOTNhHQAAyEIiBgjSwZzjBVI1CAESJDc4Y2Q5Y2M0LTljZjMtNDc3YS1hNjg1LWJlYmRlNTgxZTkzYR0pXLlBIgYI0sGc4wUKmwQKJGE2ZDMxOTZkLTg2YmUtNDhjMy04MDU1LTQ0MThlYTQ5M2M0MhIGNDMxNDYwGiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAj1583iBRCI1rvsAioGNDMxNDYwMkgKJDQ1MjhhNGRkLTM0OTgtNGIxMS04ZTg3LTYwMGVkZjlkZjQ1OBIEc2l0ZRoaNTQgRm92ZWF1eCBTdCwgU3VycnkgSGlsbHM6EEF1c3RyYWxpYS9TeWRuZXlCagokN2NjZmM4ZTAtZDM5Yi00MTA2LTljMDgtMGZjNjQzMTQ1NGQ5EiRhNmQzMTk2ZC04NmJlLTQ4YzMtODA1NS00NDE4ZWE0OTNjNDIqDAjQjc7iBRCYkN7VAjABOAFFzczQQUgBUgMIiA5KQgokN2NjZmM4ZTAtZDM5Yi00MTA2LTljMDgtMGZjNjQzMTQ1NGQ5EAEdzczQQSILCJjj4eQFELiqow4qBgj3weHkBVI1CAMSJGE2ZDMxOTZkLTg2YmUtNDhjMy04MDU1LTQ0MThlYTQ5M2M0Mh0AAMhCIgYIzOTr5AVSNQgEEiRhNmQzMTk2ZC04NmJlLTQ4YzMtODA1NS00NDE4ZWE0OTNjNDIdAACGQiIGCMzk6+QFUjUIARIkYTZkMzE5NmQtODZiZS00OGMzLTgwNTUtNDQxOGVhNDkzYzQyHQAA7EEiBgjM5OvkBQrABAokMGExMmViYTgtNWE3YS00ZjRkLTliMDktNmFiMGI1OWQzYzQwEgRUZXN0GiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAi/muPiBRDA+M6fAioGNDI3MTU2MkEKJGM5MmE5M2VhLTBmMTgtNDA2Ni05YmZmLTQwYTYwOWViODQ3NBIEc2l0ZRoTUHJvZHVjdGlvbiBmYWNpbGl0eToQQXVzdHJhbGlhL1N5ZG5leUKXAQokZjI5M2NlMTgtMTgxNi00N2QxLWE0MDgtZWU2YjQzNTFmMzkwEiQwYTEyZWJhOC01YTdhLTRmNGQtOWIwOS02YWIwYjU5ZDNjNDAaHW5hdGhhbi5hZGxlckBzYWZldHljdWx0dXJlLmlvIgwrNjE0MDI5MTIyNjEqDAj+p+PiBRCI8qWSATABOAFFAACgQEgBUgMIiA5KQgokZjI5M2NlMTgtMTgxNi00N2QxLWE0MDgtZWU2YjQzNTFmMzkwEAQdAACwQSILCKju4+MFEMi78AkqBgiNp+PjBVI1CAMSJDBhMTJlYmE4LTVhN2EtNGY0ZC05YjA5LTZhYjBiNTlkM2M0MB0AAMhCIgYIleHl4wVSNQgEEiQwYTEyZWJhOC01YTdhLTRmNGQtOWIwOS02YWIwYjU5ZDNjNDAdAADIQiIGCJXh5eMFUjUIARIkMGExMmViYTgtNWE3YS00ZjRkLTliMDktNmFiMGI1OWQzYzQwHZqZuUEiBgiV4eXjBQrQBAokNmRiY2FhN2QtNjdlMi00OGVkLTg1MzgtYmRkNDk4YzMxMWQ4Eg1Ecmlua3MgZnJpZGdlGiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAiO6sTiBRCg3+/AASoGNDMxNDU5MkkKJDJmOTBmNWE3LTEzNTktNDlmMC1hOTJhLWQ2ZjRhYTlhYmRlMhIEc2l0ZRobTGV2ZWwgNCAtIE5hdGhhbiBpcyB0ZXN0aW5nOhBBdXN0cmFsaWEvU3lkbmV5QpYBCiRiZjgwMjRiZi1mMTUxLTRiNWEtYWRiZS01OTE3NWIzMjMxNTUSJDZkYmNhYTdkLTY3ZTItNDhlZC04NTM4LWJkZDQ5OGMzMTFkOBodbmF0aGFuLmFkbGVyQHNhZmV0eWN1bHR1cmUuaW8iDCs2MTQwMjkxMjI2MSoLCLWk6OIFELDsoQMwATgCRQAAoEBIAVIDCIgOSkIKJGJmODAyNGJmLWYxNTEtNGI1YS1hZGJlLTU5MTc1YjMyMzE1NRAEHTMzsz8iCwiMjeHkBRDw7cQMKgYIocbg5AVSNQgDEiQ2ZGJjYWE3ZC02N2UyLTQ4ZWQtODUzOC1iZGQ0OThjMzExZDgdAADIQiIGCMO8i+UFUjUIBBIkNmRiY2FhN2QtNjdlMi00OGVkLTg1MzgtYmRkNDk4YzMxMWQ4HQAAgkIiBgjDvIvlBVI1CAESJDZkYmNhYTdkLTY3ZTItNDhlZC04NTM4LWJkZDQ5OGMzMTFkOB3NzEw+IgYIw7yL5QUK5AMKJDkxMzYyZTkyLTczMmYtNDQyMi1iYjVmLWEzMjE5MDczMjU4NhIGNDE3NDYzGiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAj9583iBRCg+9uJAioGNDE3NDYzMkgKJDQ1MjhhNGRkLTM0OTgtNGIxMS04ZTg3LTYwMGVkZjlkZjQ1OBIEc2l0ZRoaNTQgRm92ZWF1eCBTdCwgU3VycnkgSGlsbHM6EEF1c3RyYWxpYS9TeWRuZXlCdwokNGY0Zjk4ZjItNTNjZC00ZDlmLTljNGEtYzk0Y2ZkNmI0NWM1EiQ5MTM2MmU5Mi03MzJmLTQ0MjItYmI1Zi1hMzIxOTA3MzI1ODYiDCs2MTQwMjkxMjI2MSoLCLLxzeIFEMDPolQwATgBRQAACEJIAVIDCIgOUjUIAxIkOTEzNjJlOTItNzMyZi00NDIyLWJiNWYtYTMyMTkwNzMyNTg2HQAAWEIiBgiI3+rkBVI1CAQSJDkxMzYyZTkyLTczMmYtNDQyMi1iYjVmLWEzMjE5MDczMjU4Nh0AAI5CIgYIiN/q5AVSNQgBEiQ5MTM2MmU5Mi03MzJmLTQ0MjItYmI1Zi1hMzIxOTA3MzI1ODYdmpm9QSIGCIjf6uQFCv8ECiRlOWFjYTVmNy01NzYwLTQ4YjgtYjI3Ny03OGQ2OWRlZGEwOTkSC0daIC0gNDI3NTQ5GiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAj+iJvlBRC4+/CPAioGNDI3NTQ5MkgKJDQ1MjhhNGRkLTM0OTgtNGIxMS04ZTg3LTYwMGVkZjlkZjQ1OBIEc2l0ZRoaNTQgRm92ZWF1eCBTdCwgU3VycnkgSGlsbHM6EEF1c3RyYWxpYS9TeWRuZXlCyAEKJGM4OTYxYjA1LWIzNWMtNDk3Yy05N2JhLWViMDcwYWVlMTdiNhIkZTlhY2E1ZjctNTc2MC00OGI4LWIyNzctNzhkNjlkZWRhMDk5GhpoYXJyeS5kLmhhbWlsdG9uQGdtYWlsLmNvbRofaGFycnkuaGFtaWx0b25Ac2FmZXR5Y3VsdHVyZS5pbxofZGFtb24ud2lsbGlhbXNAc2FmZXR5Y3VsdHVyZS5pbyoMCLOAzuIFELDsv/MBMAE4AUUAAMBBSAFSAwiIDkpCCiRjODk2MWIwNS1iMzVjLTQ5N2MtOTdiYS1lYjA3MGFlZTE3YjYQAR0AAMhBIgsInqab5QUQ4Ma3DCoGCMPN5eQFUjUIAxIkZTlhY2E1ZjctNTc2MC00OGI4LWIyNzctNzhkNjlkZWRhMDk5HQAAyEIiBgjy77blBVI1CAQSJGU5YWNhNWY3LTU3NjAtNDhiOC1iMjc3LTc4ZDY5ZGVkYTA5OR0AALhCIgYI8u+25QVSNQgBEiRlOWFjYTVmNy01NzYwLTQ4YjgtYjI3Ny03OGQ2OWRlZGEwOTkdmpm5QSIGCPLvtuUFCucECiRhZTVjNzNiMy01Yjg1LTRhYWEtYTZmMi0yYTU5M2RmMGFiNjcSBjQyNzUzNRokZTA3YjZhYzAtOGEwNS0xMWUyLTk5NTEtZGRkMTE4MmY2NWQ5IgwIyb+b5QUQmNjX+QIqBjQyNzUzNTJICiQ0NTI4YTRkZC0zNDk4LTRiMTEtOGU4Ny02MDBlZGY5ZGY0NTgSBHNpdGUaGjU0IEZvdmVhdXggU3QsIFN1cnJ5IEhpbGxzOhBBdXN0cmFsaWEvU3lkbmV5QrUBCiRmMGM0ZjE3MS02MzgwLTRiYzktODllNC1iOTViZjRlN2YyYTUSJGFlNWM3M2IzLTViODUtNGFhYS1hNmYyLTJhNTkzZGYwYWI2NxoaaGFycnkuZC5oYW1pbHRvbkBnbWFpbC5jb20aH2hhcnJ5LmhhbWlsdG9uQHNhZmV0eWN1bHR1cmUuaW8iDCs2MTQ4ODA0Njc2MCoMCLfQqeUFEJi4nYgBMAE4AUUAACBBSAFSAwiIDkpCCiRmMGM0ZjE3MS02MzgwLTRiYzktODllNC1iOTViZjRlN2YyYTUQBB0zM79BIgsIj5Sq5QUQ2NDrESoGCIrNqeUFUjUIAxIkYWU1YzczYjMtNWI4NS00YWFhLWE2ZjItMmE1OTNkZjBhYjY3HQAAyEIiBgjS8rblBVI1CAQSJGFlNWM3M2IzLTViODUtNGFhYS1hNmYyLTJhNTkzZGYwYWI2Nx0AAMhCIgYI0vK25QVSNQgBEiRhZTVjNzNiMy01Yjg1LTRhYWEtYTZmMi0yYTU5M2RmMGFiNjcdmpm9QSIGCNLytuUFCu8CCiQ3NzFlN2FhOC03ZmRkLTQyZWEtYmY2Mi0xOTQwZmZhOTNjYTESC0daIC0gNDI3NTkxGiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiCwiJpZvlBRCIloUcKgY0Mjc1OTEySAokNDUyOGE0ZGQtMzQ5OC00YjExLThlODctNjAwZWRmOWRmNDU4EgRzaXRlGho1NCBGb3ZlYXV4IFN0LCBTdXJyeSBIaWxsczoQQXVzdHJhbGlhL1N5ZG5leVI1CAMSJDc3MWU3YWE4LTdmZGQtNDJlYS1iZjYyLTE5NDBmZmE5M2NhMR0AAMhCIgYIx++25QVSNQgEEiQ3NzFlN2FhOC03ZmRkLTQyZWEtYmY2Mi0xOTQwZmZhOTNjYTEdAADIQiIGCMfvtuUFUjUIARIkNzcxZTdhYTgtN2ZkZC00MmVhLWJmNjItMTk0MGZmYTkzY2ExHTMzu0EiBgjH77blBQq9BgokNWZiZjQ3MWItMThiOS00YTljLTkzZWYtMjlhNDQ1NTIzMDE2EgtHWiAtIDQ1NDc2NhokZTA3YjZhYzAtOGEwNS0xMWUyLTk5NTEtZGRkMTE4MmY2NWQ5IgsI0vua5QUQ4IGqGCoGNDU0NzY2MkgKJDQ1MjhhNGRkLTM0OTgtNGIxMS04ZTg3LTYwMGVkZjlkZjQ1OBIEc2l0ZRoaNTQgRm92ZWF1eCBTdCwgU3VycnkgSGlsbHM6EEF1c3RyYWxpYS9TeWRuZXlCpwEKJGFjZjY5ZDFlLTVhZTYtNDY5Ni04OTYzLTFmN2JlZmE5ZjI1ZhIkNWZiZjQ3MWItMThiOS00YTljLTkzZWYtMjlhNDQ1NTIzMDE2GhpoYXJyeS5kLmhhbWlsdG9uQGdtYWlsLmNvbRofaGFycnkuaGFtaWx0b25Ac2FmZXR5Y3VsdHVyZS5pbyoMCPGn6OIFEJCEvdoDMAE4AUUAACBBSAFSAwiIDkJjCiRjMjIzMWQ2Zi1mNWVlLTQzZmUtOGEyNC0zMzEyMTVmZTYyNmQSJDVmYmY0NzFiLTE4YjktNGE5Yy05M2VmLTI5YTQ0NTUyMzAxNioMCKTS6eIFEKjYlJsCMAI4AVIDCJAcSkIKJGFjZjY5ZDFlLTVhZTYtNDY5Ni04OTYzLTFmN2JlZmE5ZjI1ZhAEHR+FwUEiCwj3mqrlBRC44P8TKgYIkNSp5QVKQgokYzIyMzFkNmYtZjVlZS00M2ZlLThhMjQtMzMxMjE1ZmU2MjZkEAEdMzM2QiILCLDt5eQFEIDJlA0qBgjgx5njBVI1CAMSJDVmYmY0NzFiLTE4YjktNGE5Yy05M2VmLTI5YTQ0NTUyMzAxNh0AAMhCIgYIqfC25QVSNQgCEiQ1ZmJmNDcxYi0xOGI5LTRhOWMtOTNlZi0yOWE0NDU1MjMwMTYdUrg7QiIGCKnwtuUFUjUIBBIkNWZiZjQ3MWItMThiOS00YTljLTkzZWYtMjlhNDQ1NTIzMDE2HQAAyEIiBgip8LblBVI1CAESJDVmYmY0NzFiLTE4YjktNGE5Yy05M2VmLTI5YTQ0NTUyMzAxNh0K17dBIgYIqfC25QUKywEKJDQ2M2UzZDY1LWE5YWUtNDZlMS1hMGQ4LTk2NmU3N2U1NzgzZRILR1ogLSA0Mjc1MTcaJGUwN2I2YWMwLThhMDUtMTFlMi05OTUxLWRkZDExODJmNjVkOSIMCN6Tm+UFEIiYlcUDKgY0Mjc1MTcySAokNDUyOGE0ZGQtMzQ5OC00YjExLThlODctNjAwZWRmOWRmNDU4EgRzaXRlGho1NCBGb3ZlYXV4IFN0LCBTdXJyeSBIaWxsczoQQXVzdHJhbGlhL1N5ZG5leQrwAgokM2YzYzM1NGYtYjg0Yy00ODczLTgyODktMGJjYzE1Njg3ZDFkEgtHWiAtIDQyNzYwNhokZTA3YjZhYzAtOGEwNS0xMWUyLTk5NTEtZGRkMTE4MmY2NWQ5IgwI6peb5QUQkIPt2wIqBjQyNzYwNjJICiQ0NTI4YTRkZC0zNDk4LTRiMTEtOGU4Ny02MDBlZGY5ZGY0NTgSBHNpdGUaGjU0IEZvdmVhdXggU3QsIFN1cnJ5IEhpbGxzOhBBdXN0cmFsaWEvU3lkbmV5UjUIAxIkM2YzYzM1NGYtYjg0Yy00ODczLTgyODktMGJjYzE1Njg3ZDFkHQAAyEIiBgiy8LblBVI1CAQSJDNmM2MzNTRmLWI4NGMtNDg3My04Mjg5LTBiY2MxNTY4N2QxZB0AAMhCIgYIsvC25QVSNQgBEiQzZjNjMzU0Zi1iODRjLTQ4NzMtODI4OS0wYmNjMTU2ODdkMWQdmpm5QSIGCLLwtuUFCvACCiQ3Y2M5MDI0Yi1lZTNjLTQ5ZDQtODIzMS02ZTA1NjFjY2IyNDkSC0daIC0gNDI3NjExGiRlMDdiNmFjMC04YTA1LTExZTItOTk1MS1kZGQxMTgyZjY1ZDkiDAjnmpvlBRDIqNKdAioGNDI3NjExMkgKJDQ1MjhhNGRkLTM0OTgtNGIxMS04ZTg3LTYwMGVkZjlkZjQ1OBIEc2l0ZRoaNTQgRm92ZWF1eCBTdCwgU3VycnkgSGlsbHM6EEF1c3RyYWxpYS9TeWRuZXlSNQgDEiQ3Y2M5MDI0Yi1lZTNjLTQ5ZDQtODIzMS02ZTA1NjFjY2IyNDkdAADIQiIGCPXxtuUFUjUIBBIkN2NjOTAyNGItZWUzYy00OWQ0LTgyMzEtNmUwNTYxY2NiMjQ5HQAAyEIiBgj18bblBVI1CAESJDdjYzkwMjRiLWVlM2MtNDlkNC04MjMxLTZlMDU2MWNjYjI0OR0zM7tBIgYI9fG25QUK7gQKJDcyOWVlYmRiLTY0MmYtNDNmNy04OThjLTZmODMyYzM0ZjJjMRIXNDI1NTk0IChibGFuayBidWcgdGVzdCkaJGUwN2I2YWMwLThhMDUtMTFlMi05OTUxLWRkZDExODJmNjVkOSIMCK+vm+UFEKj5jsYBKgY0Mjc1OTQySAokNDUyOGE0ZGQtMzQ5OC00YjExLThlODctNjAwZWRmOWRmNDU4EgRzaXRlGho1NCBGb3ZlYXV4IFN0LCBTdXJyeSBIaWxsczoQQXVzdHJhbGlhL1N5ZG5leUKrAQokMDMyMmY5MzQtY2IyMi00YTBjLWEwNTAtNTJmMGM5N2I4ZjcwEiQ3MjllZWJkYi02NDJmLTQzZjctODk4Yy02ZjgzMmMzNGYyYzEaH2hhcnJ5LmhhbWlsdG9uQHNhZmV0eWN1bHR1cmUuaW8aHnNlcmdpby5hdmFsb3NAc2FmZXR5Y3VsdHVyZS5pbyoMCJrVqeUFEND8lIMCMAE4AUUAACBBSAFSAwiIDkpCCiQwMzIyZjkzNC1jYjIyLTRhMGMtYTA1MC01MmYwYzk3YjhmNzAQBB3NzLhBIgsIiMe25QUQkP+fDCoGCIKAtuUFUjUIAxIkNzI5ZWViZGItNjQyZi00M2Y3LTg5OGMtNmY4MzJjMzRmMmMxHQAAyEIiBgjC8LblBVI1CAQSJDcyOWVlYmRiLTY0MmYtNDNmNy04OThjLTZmODMyYzM0ZjJjMR0AAMhCIgYIwvC25QVSNQgBEiQ3MjllZWJkYi02NDJmLTQzZjctODk4Yy02ZjgzMmMzNGYyYzEdmpm9QSIGCMLwtuUFCtMECiRjYTk0NjNhYS1kY2QzLTQ4NDMtODdmMy00N2Y0NTVhNjhlM2QSHjQyNzUyOCAoVVRDIFRJTUUpIC0gZG9uJ3QgZWRpdBokZTA3YjZhYzAtOGEwNS0xMWUyLTk5NTEtZGRkMTE4MmY2NWQ5IgwIvdSb5QUQiOWiyQIqBjQyNzUyODJICiQ0NTI4YTRkZC0zNDk4LTRiMTEtOGU4Ny02MDBlZGY5ZGY0NTgSBHNpdGUaGjU0IEZvdmVhdXggU3QsIFN1cnJ5IEhpbGxzOgNVVENClgEKJDMyN2QyN2VkLTkzZTMtNDdlMy1hZThhLWUwMzEwMzFkZTFiMxIkY2E5NDYzYWEtZGNkMy00ODQzLTg3ZjMtNDdmNDU1YTY4ZTNkGhpoYXJyeS5kLmhhbWlsdG9uQGdtYWlsLmNvbRoAIgwrNjE0ODgwNDY3NjAqDAid15vlBRC48regAzABOAFFAAAgQUgBUgMIiA5KQgokMzI3ZDI3ZWQtOTNlMy00N2UzLWFlOGEtZTAzMTAzMWRlMWIzEAQdAAC8QSILCKecnOUFEOCpiBEqBgig1ZvlBVI1CAMSJGNhOTQ2M2FhLWRjZDMtNDg0My04N2YzLTQ3ZjQ1NWE2OGUzZB0AAMhCIgYIi/C25QVSNQgEEiRjYTk0NjNhYS1kY2QzLTQ4NDMtODdmMy00N2Y0NTVhNjhlM2QdAADIQiIGCIvwtuUFUjUIARIkY2E5NDYzYWEtZGNkMy00ODQzLTg3ZjMtNDdmNDU1YTY4ZTNkHTMzv0EiBgiL8LblBQ==gAAAAA9ncnBjLXN0YXR1czowDQo=`

    var newPos = responseText.length - responseText.length % 4;
    var newData = responseText.substr(0, newPos);
    var byteSource = decodeStringToUint8Array(newData);

    var parser = new GrpcWebStreamParser()

    var messages = parser.parse([].slice.call(byteSource));
    if (messages) {
      var FrameType = GrpcWebStreamParser.FrameType;
      for (var i = 0; i < messages.length; i++) {
        if (FrameType.DATA in messages[i]) {
          var data = messages[i][FrameType.DATA];
          var reader = new jspb.BinaryReader(data);

          while (reader.nextField()) {
            if (reader.isEndGroup()) {
              break;
            }
            console.log(reader)
            // var field = reader.getFieldNumber();
            var value = reader.getFieldDecoder()

            // reader.readAny(value)
            console.log(value)
          }


        }
      }
    }


  }

  render() {
    return (
      <div className="App">
        {this.state.requests.map(element => {
          return <div>{element}</div>
        })}
      </div>
    );
  }
}


export default App;
